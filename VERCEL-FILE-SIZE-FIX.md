# Vercel文件大小限制解决方案

## 问题
Vercel免费版限制请求体大小为10MB，而我们设置的是100MB。

## 临时解决方案（已实施）

### 1. 调整前端限制为10MB
修改 `pdf_api.py` 中的文件大小限制：

```python
# 从100MB改为10MB
app.config['MAX_CONTENT_LENGTH'] = 10 * 1024 * 1024  # 10MB
```

### 2. 更新UI提示
在上传界面明确告知用户10MB的限制。

## 长期解决方案

### 方案A：直传OSS（推荐）
1. 文件直接从浏览器上传到阿里云OSS
2. 避开Vercel的限制
3. 支持更大文件（可达5GB）

实现步骤：
1. 前端获取OSS上传凭证
2. 直接上传文件到OSS
3. 上传成功后，将OSS文件URL发送给后端处理

### 方案B：分片上传
1. 将大文件分成多个5MB的片段
2. 逐个片段上传
3. 服务端合并片段

### 方案C：升级Vercel Pro
- Pro版支持50MB
- 每月$20

## 当前可用功能

即使有10MB限制，以下功能仍然正常：
- ✅ 普通文档上传（txt, md等）
- ✅ 小型PDF文件
- ✅ AI对话
- ✅ 知识库搜索

## 用户提示

对于需要上传大文件的用户：
1. 将PDF分割成多个小文件
2. 使用在线PDF压缩工具
3. 将PDF转换为文本格式